🧪 Tests & Quality Checks
failed 1 minute ago in 57s
Search logs
2s
7s
Build container for action use: '/home/runner/work/_actions/py-cov-action/python-coverage-comment-action/v3/Dockerfile'.
2s
Checking docker version
Clean up resources from previous jobs
Create local container network
Starting weaviate service container
Waiting for all services to be ready
0s
Run actions/checkout@v4
Syncing repository: saptiva-ai/alethia_deepresearch
Getting Git version info
Temporarily overriding HOME='/home/runner/work/_temp/7e6d0ae3-9738-4dde-b732-a1b2be9bfe25' before making global git config changes
Adding repository directory to the temporary git global config as a safe directory
/usr/bin/git config --global --add safe.directory /home/runner/work/alethia_deepresearch/alethia_deepresearch
Deleting the contents of '/home/runner/work/alethia_deepresearch/alethia_deepresearch'
Initializing the repository
Disabling automatic garbage collection
Setting up auth
Fetching the repository
Determining the checkout info
/usr/bin/git sparse-checkout disable
/usr/bin/git config --local --unset-all extensions.worktreeConfig
Checking out the ref
/usr/bin/git log -1 --format=%H
9c4db8ba60c4b1947cfa19b1f2e4dfc711be25db
1s
Run actions/setup-python@v4
Installed versions
/opt/hostedtoolcache/Python/3.11.13/x64/bin/pip cache dir
/home/runner/.cache/pip
pip cache is not found
22s
Run python -m pip install --upgrade pip
Requirement already satisfied: pip in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (25.2)
Collecting fastapi==0.104.1 (from -r requirements.txt (line 2))
  Downloading fastapi-0.104.1-py3-none-any.whl.metadata (24 kB)
Collecting uvicorn==0.24.0 (from uvicorn[standard]==0.24.0->-r requirements.txt (line 3))
  Downloading uvicorn-0.24.0-py3-none-any.whl.metadata (6.4 kB)
Collecting httpx==0.25.2 (from -r requirements.txt (line 6))
  Downloading httpx-0.25.2-py3-none-any.whl.metadata (6.9 kB)
Collecting requests==2.31.0 (from -r requirements.txt (line 7))
  Downloading requests-2.31.0-py3-none-any.whl.metadata (4.6 kB)
Collecting beautifulsoup4==4.12.2 (from -r requirements.txt (line 10))
  Downloading beautifulsoup4-4.12.2-py3-none-any.whl.metadata (3.6 kB)
Collecting pydantic==2.5.0 (from -r requirements.txt (line 13))
  Downloading pydantic-2.5.0-py3-none-any.whl.metadata (174 kB)
Collecting pydantic-settings==2.1.0 (from -r requirements.txt (line 14))
  Downloading pydantic_settings-2.1.0-py3-none-any.whl.metadata (2.9 kB)
Collecting tavily-python==0.3.0 (from -r requirements.txt (line 17))
  Downloading tavily_python-0.3.0-py3-none-any.whl.metadata (4.4 kB)
Collecting pyyaml==6.0.1 (from -r requirements.txt (line 20))
  Downloading PyYAML-6.0.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.1 kB)
Collecting PyPDF2==3.0.1 (from -r requirements.txt (line 23))
  Downloading pypdf2-3.0.1-py3-none-any.whl.metadata (6.8 kB)
Collecting pdfplumber==0.10.3 (from -r requirements.txt (line 24))
  Downloading pdfplumber-0.10.3-py3-none-any.whl.metadata (38 kB)
Collecting python-docx==1.1.0 (from -r requirements.txt (line 25))
  Downloading python_docx-1.1.0-py3-none-any.whl.metadata (2.0 kB)
Collecting pytesseract==0.3.10 (from -r requirements.txt (line 28))
  Downloading pytesseract-0.3.10-py3-none-any.whl.metadata (11 kB)
Collecting Pillow==10.1.0 (from -r requirements.txt (line 29))
  Downloading Pillow-10.1.0-cp311-cp311-manylinux_2_28_x86_64.whl.metadata (9.5 kB)
Collecting python-dotenv==1.0.0 (from -r requirements.txt (line 32))
  Downloading python_dotenv-1.0.0-py3-none-any.whl.metadata (21 kB)
Collecting weaviate-client==3.25.3 (from -r requirements.txt (line 35))
  Downloading weaviate_client-3.25.3-py3-none-any.whl.metadata (3.4 kB)
Collecting aiofiles==23.2.1 (from -r requirements.txt (line 38))
  Downloading aiofiles-23.2.1-py3-none-any.whl.metadata (9.7 kB)
Collecting python-dateutil==2.8.2 (from -r requirements.txt (line 41))
  Downloading python_dateutil-2.8.2-py2.py3-none-any.whl.metadata (8.2 kB)
Collecting opentelemetry-api==1.21.0 (from -r requirements.txt (line 44))
  Downloading opentelemetry_api-1.21.0-py3-none-any.whl.metadata (1.4 kB)
Collecting opentelemetry-sdk==1.21.0 (from -r requirements.txt (line 45))
  Downloading opentelemetry_sdk-1.21.0-py3-none-any.whl.metadata (1.5 kB)
Collecting opentelemetry-exporter-otlp==1.21.0 (from -r requirements.txt (line 46))
  Downloading opentelemetry_exporter_otlp-1.21.0-py3-none-any.whl.metadata (2.3 kB)
Collecting opentelemetry-instrumentation-fastapi==0.42b0 (from -r requirements.txt (line 47))
  Downloading opentelemetry_instrumentation_fastapi-0.42b0-py3-none-any.whl.metadata (2.3 kB)
Collecting opentelemetry-instrumentation-httpx==0.42b0 (from -r requirements.txt (line 48))
  Downloading opentelemetry_instrumentation_httpx-0.42b0-py3-none-any.whl.metadata (6.1 kB)
Collecting pytest==7.4.3 (from -r requirements.txt (line 51))
  Downloading pytest-7.4.3-py3-none-any.whl.metadata (7.9 kB)
Collecting pytest-asyncio==0.21.1 (from -r requirements.txt (line 52))
  Downloading pytest_asyncio-0.21.1-py3-none-any.whl.metadata (4.0 kB)
Collecting pytest-cov==4.1.0 (from -r requirements.txt (line 53))
  Downloading pytest_cov-4.1.0-py3-none-any.whl.metadata (26 kB)
Collecting black==23.11.0 (from -r requirements.txt (line 54))
  Downloading black-23.11.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (66 kB)
Collecting ruff==0.1.6 (from -r requirements.txt (line 55))
  Downloading ruff-0.1.6-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (22 kB)
Collecting mypy==1.7.1 (from -r requirements.txt (line 56))
  Downloading mypy-1.7.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (1.8 kB)
Collecting bandit==1.7.5 (from -r requirements.txt (line 57))
  Downloading bandit-1.7.5-py3-none-any.whl.metadata (5.0 kB)
Collecting safety==3.2.8 (from -r requirements.txt (line 58))
  Downloading safety-3.2.8-py3-none-any.whl.metadata (38 kB)
Collecting anyio<4.0.0,>=3.7.1 (from fastapi==0.104.1->-r requirements.txt (line 2))
  Downloading anyio-3.7.1-py3-none-any.whl.metadata (4.7 kB)
Collecting starlette<0.28.0,>=0.27.0 (from fastapi==0.104.1->-r requirements.txt (line 2))
  Downloading starlette-0.27.0-py3-none-any.whl.metadata (5.8 kB)
Collecting typing-extensions>=4.8.0 (from fastapi==0.104.1->-r requirements.txt (line 2))
  Downloading typing_extensions-4.15.0-py3-none-any.whl.metadata (3.3 kB)
Collecting annotated-types>=0.4.0 (from pydantic==2.5.0->-r requirements.txt (line 13))
  Downloading annotated_types-0.7.0-py3-none-any.whl.metadata (15 kB)
Collecting pydantic-core==2.14.1 (from pydantic==2.5.0->-r requirements.txt (line 13))
  Downloading pydantic_core-2.14.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.5 kB)
Collecting click>=7.0 (from uvicorn==0.24.0->uvicorn[standard]==0.24.0->-r requirements.txt (line 3))
  Downloading click-8.2.1-py3-none-any.whl.metadata (2.5 kB)
Collecting h11>=0.8 (from uvicorn==0.24.0->uvicorn[standard]==0.24.0->-r requirements.txt (line 3))
  Downloading h11-0.16.0-py3-none-any.whl.metadata (8.3 kB)
Collecting certifi (from httpx==0.25.2->-r requirements.txt (line 6))
  Downloading certifi-2025.8.3-py3-none-any.whl.metadata (2.4 kB)
Collecting httpcore==1.* (from httpx==0.25.2->-r requirements.txt (line 6))
  Downloading httpcore-1.0.9-py3-none-any.whl.metadata (21 kB)
Collecting idna (from httpx==0.25.2->-r requirements.txt (line 6))
  Downloading idna-3.10-py3-none-any.whl.metadata (10 kB)
Collecting sniffio (from httpx==0.25.2->-r requirements.txt (line 6))
  Downloading sniffio-1.3.1-py3-none-any.whl.metadata (3.9 kB)
Collecting charset-normalizer<4,>=2 (from requests==2.31.0->-r requirements.txt (line 7))
  Downloading charset_normalizer-3.4.3-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (36 kB)
Collecting urllib3<3,>=1.21.1 (from requests==2.31.0->-r requirements.txt (line 7))
  Downloading urllib3-2.5.0-py3-none-any.whl.metadata (6.5 kB)
Collecting soupsieve>1.2 (from beautifulsoup4==4.12.2->-r requirements.txt (line 10))
  Downloading soupsieve-2.8-py3-none-any.whl.metadata (4.6 kB)
Collecting tiktoken==0.5.1 (from tavily-python==0.3.0->-r requirements.txt (line 17))
  Downloading tiktoken-0.5.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.6 kB)
Collecting pdfminer.six==20221105 (from pdfplumber==0.10.3->-r requirements.txt (line 24))
  Downloading pdfminer.six-20221105-py3-none-any.whl.metadata (4.0 kB)
Collecting pypdfium2>=4.18.0 (from pdfplumber==0.10.3->-r requirements.txt (line 24))
  Downloading pypdfium2-4.30.0-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (48 kB)
Collecting lxml>=3.1.0 (from python-docx==1.1.0->-r requirements.txt (line 25))
  Downloading lxml-6.0.1-cp311-cp311-manylinux_2_26_x86_64.manylinux_2_28_x86_64.whl.metadata (3.8 kB)
Collecting packaging>=21.3 (from pytesseract==0.3.10->-r requirements.txt (line 28))
  Downloading packaging-25.0-py3-none-any.whl.metadata (3.3 kB)
Collecting validators<1.0.0,>=0.21.2 (from weaviate-client==3.25.3->-r requirements.txt (line 35))
  Downloading validators-0.35.0-py3-none-any.whl.metadata (3.9 kB)
Collecting authlib<2.0.0,>=1.2.1 (from weaviate-client==3.25.3->-r requirements.txt (line 35))
  Downloading authlib-1.6.3-py2.py3-none-any.whl.metadata (1.6 kB)
Collecting six>=1.5 (from python-dateutil==2.8.2->-r requirements.txt (line 41))
  Downloading six-1.17.0-py2.py3-none-any.whl.metadata (1.7 kB)
Collecting deprecated>=1.2.6 (from opentelemetry-api==1.21.0->-r requirements.txt (line 44))
  Downloading Deprecated-1.2.18-py2.py3-none-any.whl.metadata (5.7 kB)
Collecting importlib-metadata<7.0,>=6.0 (from opentelemetry-api==1.21.0->-r requirements.txt (line 44))
  Downloading importlib_metadata-6.11.0-py3-none-any.whl.metadata (4.9 kB)
Collecting opentelemetry-semantic-conventions==0.42b0 (from opentelemetry-sdk==1.21.0->-r requirements.txt (line 45))
  Downloading opentelemetry_semantic_conventions-0.42b0-py3-none-any.whl.metadata (2.3 kB)
Collecting opentelemetry-exporter-otlp-proto-grpc==1.21.0 (from opentelemetry-exporter-otlp==1.21.0->-r requirements.txt (line 46))
  Downloading opentelemetry_exporter_otlp_proto_grpc-1.21.0-py3-none-any.whl.metadata (2.4 kB)
Collecting opentelemetry-exporter-otlp-proto-http==1.21.0 (from opentelemetry-exporter-otlp==1.21.0->-r requirements.txt (line 46))
  Downloading opentelemetry_exporter_otlp_proto_http-1.21.0-py3-none-any.whl.metadata (2.4 kB)
Collecting opentelemetry-instrumentation-asgi==0.42b0 (from opentelemetry-instrumentation-fastapi==0.42b0->-r requirements.txt (line 47))
  Downloading opentelemetry_instrumentation_asgi-0.42b0-py3-none-any.whl.metadata (2.1 kB)
Collecting opentelemetry-instrumentation==0.42b0 (from opentelemetry-instrumentation-fastapi==0.42b0->-r requirements.txt (line 47))
  Downloading opentelemetry_instrumentation-0.42b0-py3-none-any.whl.metadata (5.9 kB)
Collecting opentelemetry-util-http==0.42b0 (from opentelemetry-instrumentation-fastapi==0.42b0->-r requirements.txt (line 47))
  Downloading opentelemetry_util_http-0.42b0-py3-none-any.whl.metadata (2.5 kB)
Collecting iniconfig (from pytest==7.4.3->-r requirements.txt (line 51))
  Downloading iniconfig-2.1.0-py3-none-any.whl.metadata (2.7 kB)
Collecting pluggy<2.0,>=0.12 (from pytest==7.4.3->-r requirements.txt (line 51))
  Downloading pluggy-1.6.0-py3-none-any.whl.metadata (4.8 kB)
Collecting coverage>=5.2.1 (from coverage[toml]>=5.2.1->pytest-cov==4.1.0->-r requirements.txt (line 53))
  Downloading coverage-7.10.6-cp311-cp311-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (8.9 kB)
Collecting mypy-extensions>=0.4.3 (from black==23.11.0->-r requirements.txt (line 54))
  Downloading mypy_extensions-1.1.0-py3-none-any.whl.metadata (1.1 kB)
Collecting pathspec>=0.9.0 (from black==23.11.0->-r requirements.txt (line 54))
  Downloading pathspec-0.12.1-py3-none-any.whl.metadata (21 kB)
Collecting platformdirs>=2 (from black==23.11.0->-r requirements.txt (line 54))
  Downloading platformdirs-4.4.0-py3-none-any.whl.metadata (12 kB)
Collecting GitPython>=1.0.1 (from bandit==1.7.5->-r requirements.txt (line 57))
  Downloading gitpython-3.1.45-py3-none-any.whl.metadata (13 kB)
Collecting stevedore>=1.20.0 (from bandit==1.7.5->-r requirements.txt (line 57))
  Downloading stevedore-5.5.0-py3-none-any.whl.metadata (2.2 kB)
Collecting rich (from bandit==1.7.5->-r requirements.txt (line 57))
  Downloading rich-14.1.0-py3-none-any.whl.metadata (18 kB)
Collecting setuptools>=65.5.1 (from safety==3.2.8->-r requirements.txt (line 58))
  Downloading setuptools-80.9.0-py3-none-any.whl.metadata (6.6 kB)
Collecting dparse>=0.6.4b0 (from safety==3.2.8->-r requirements.txt (line 58))
  Downloading dparse-0.6.4-py3-none-any.whl.metadata (5.5 kB)
Collecting ruamel.yaml>=0.17.21 (from safety==3.2.8->-r requirements.txt (line 58))
  Downloading ruamel.yaml-0.18.15-py3-none-any.whl.metadata (25 kB)
Collecting jinja2>=3.1.0 (from safety==3.2.8->-r requirements.txt (line 58))
  Downloading jinja2-3.1.6-py3-none-any.whl.metadata (2.9 kB)
Collecting marshmallow>=3.15.0 (from safety==3.2.8->-r requirements.txt (line 58))
  Downloading marshmallow-4.0.1-py3-none-any.whl.metadata (7.4 kB)
Collecting typer (from safety==3.2.8->-r requirements.txt (line 58))
  Downloading typer-0.17.4-py3-none-any.whl.metadata (15 kB)
Collecting safety-schemas>=0.0.4 (from safety==3.2.8->-r requirements.txt (line 58))
  Downloading safety_schemas-0.0.15-py3-none-any.whl.metadata (1.1 kB)
Collecting filelock~=3.12.2 (from safety==3.2.8->-r requirements.txt (line 58))
  Downloading filelock-3.12.4-py3-none-any.whl.metadata (2.8 kB)
Collecting psutil~=6.0.0 (from safety==3.2.8->-r requirements.txt (line 58))
  Downloading psutil-6.0.0-cp36-abi3-manylinux_2_12_x86_64.manylinux2010_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (21 kB)
Collecting backoff<3.0.0,>=1.10.0 (from opentelemetry-exporter-otlp-proto-grpc==1.21.0->opentelemetry-exporter-otlp==1.21.0->-r requirements.txt (line 46))
  Downloading backoff-2.2.1-py3-none-any.whl.metadata (14 kB)
Collecting googleapis-common-protos~=1.52 (from opentelemetry-exporter-otlp-proto-grpc==1.21.0->opentelemetry-exporter-otlp==1.21.0->-r requirements.txt (line 46))
  Downloading googleapis_common_protos-1.70.0-py3-none-any.whl.metadata (9.3 kB)
Collecting grpcio<2.0.0,>=1.0.0 (from opentelemetry-exporter-otlp-proto-grpc==1.21.0->opentelemetry-exporter-otlp==1.21.0->-r requirements.txt (line 46))
  Downloading grpcio-1.74.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.8 kB)
Collecting opentelemetry-exporter-otlp-proto-common==1.21.0 (from opentelemetry-exporter-otlp-proto-grpc==1.21.0->opentelemetry-exporter-otlp==1.21.0->-r requirements.txt (line 46))
  Downloading opentelemetry_exporter_otlp_proto_common-1.21.0-py3-none-any.whl.metadata (1.8 kB)
Collecting opentelemetry-proto==1.21.0 (from opentelemetry-exporter-otlp-proto-grpc==1.21.0->opentelemetry-exporter-otlp==1.21.0->-r requirements.txt (line 46))
  Downloading opentelemetry_proto-1.21.0-py3-none-any.whl.metadata (2.3 kB)
Collecting wrapt<2.0.0,>=1.0.0 (from opentelemetry-instrumentation==0.42b0->opentelemetry-instrumentation-fastapi==0.42b0->-r requirements.txt (line 47))
  Downloading wrapt-1.17.3-cp311-cp311-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (6.4 kB)
Collecting asgiref~=3.0 (from opentelemetry-instrumentation-asgi==0.42b0->opentelemetry-instrumentation-fastapi==0.42b0->-r requirements.txt (line 47))
  Downloading asgiref-3.9.1-py3-none-any.whl.metadata (9.3 kB)
Collecting protobuf<5.0,>=3.19 (from opentelemetry-proto==1.21.0->opentelemetry-exporter-otlp-proto-grpc==1.21.0->opentelemetry-exporter-otlp==1.21.0->-r requirements.txt (line 46))
  Downloading protobuf-4.25.8-cp37-abi3-manylinux2014_x86_64.whl.metadata (541 bytes)
Collecting cryptography>=36.0.0 (from pdfminer.six==20221105->pdfplumber==0.10.3->-r requirements.txt (line 24))
  Downloading cryptography-45.0.7-cp311-abi3-manylinux_2_34_x86_64.whl.metadata (5.7 kB)
Collecting regex>=2022.1.18 (from tiktoken==0.5.1->tavily-python==0.3.0->-r requirements.txt (line 17))
  Downloading regex-2025.9.1-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (40 kB)
Collecting httptools>=0.5.0 (from uvicorn[standard]==0.24.0->-r requirements.txt (line 3))
  Downloading httptools-0.6.4-cp311-cp311-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.6 kB)
Collecting uvloop!=0.15.0,!=0.15.1,>=0.14.0 (from uvicorn[standard]==0.24.0->-r requirements.txt (line 3))
  Downloading uvloop-0.21.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.9 kB)
Collecting watchfiles>=0.13 (from uvicorn[standard]==0.24.0->-r requirements.txt (line 3))
  Downloading watchfiles-1.1.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.9 kB)
Collecting websockets>=10.4 (from uvicorn[standard]==0.24.0->-r requirements.txt (line 3))
  Downloading websockets-15.0.1-cp311-cp311-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.8 kB)
Collecting zipp>=0.5 (from importlib-metadata<7.0,>=6.0->opentelemetry-api==1.21.0->-r requirements.txt (line 44))
  Downloading zipp-3.23.0-py3-none-any.whl.metadata (3.6 kB)
Collecting cffi>=1.14 (from cryptography>=36.0.0->pdfminer.six==20221105->pdfplumber==0.10.3->-r requirements.txt (line 24))
  Downloading cffi-2.0.0-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (2.6 kB)
Collecting pycparser (from cffi>=1.14->cryptography>=36.0.0->pdfminer.six==20221105->pdfplumber==0.10.3->-r requirements.txt (line 24))
  Downloading pycparser-2.23-py3-none-any.whl.metadata (993 bytes)
Collecting gitdb<5,>=4.0.1 (from GitPython>=1.0.1->bandit==1.7.5->-r requirements.txt (line 57))
  Downloading gitdb-4.0.12-py3-none-any.whl.metadata (1.2 kB)
Collecting smmap<6,>=3.0.1 (from gitdb<5,>=4.0.1->GitPython>=1.0.1->bandit==1.7.5->-r requirements.txt (line 57))
  Downloading smmap-5.0.2-py3-none-any.whl.metadata (4.3 kB)
Collecting MarkupSafe>=2.0 (from jinja2>=3.1.0->safety==3.2.8->-r requirements.txt (line 58))
  Downloading MarkupSafe-3.0.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.0 kB)
Collecting ruamel.yaml.clib>=0.2.7 (from ruamel.yaml>=0.17.21->safety==3.2.8->-r requirements.txt (line 58))
  Downloading ruamel.yaml.clib-0.2.12-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.7 kB)
INFO: pip is looking at multiple versions of safety-schemas to determine which version is compatible with other requirements. This could take a while.
Collecting safety-schemas>=0.0.4 (from safety==3.2.8->-r requirements.txt (line 58))
  Downloading safety_schemas-0.0.14-py3-none-any.whl.metadata (1.1 kB)
  Downloading safety_schemas-0.0.13-py3-none-any.whl.metadata (1.1 kB)
  Downloading safety_schemas-0.0.12-py3-none-any.whl.metadata (1.1 kB)
  Downloading safety_schemas-0.0.11-py3-none-any.whl.metadata (1.1 kB)
  Downloading safety_schemas-0.0.10-py3-none-any.whl.metadata (1.1 kB)
  Downloading safety_schemas-0.0.9-py3-none-any.whl.metadata (1.2 kB)
  Downloading safety_schemas-0.0.8-py3-none-any.whl.metadata (1.2 kB)
Collecting markdown-it-py>=2.2.0 (from rich->bandit==1.7.5->-r requirements.txt (line 57))
  Downloading markdown_it_py-4.0.0-py3-none-any.whl.metadata (7.3 kB)
Collecting pygments<3.0.0,>=2.13.0 (from rich->bandit==1.7.5->-r requirements.txt (line 57))
  Downloading pygments-2.19.2-py3-none-any.whl.metadata (2.5 kB)
Collecting mdurl~=0.1 (from markdown-it-py>=2.2.0->rich->bandit==1.7.5->-r requirements.txt (line 57))
  Downloading mdurl-0.1.2-py3-none-any.whl.metadata (1.6 kB)
Collecting shellingham>=1.3.0 (from typer->safety==3.2.8->-r requirements.txt (line 58))
  Downloading shellingham-1.5.4-py2.py3-none-any.whl.metadata (3.5 kB)
Downloading fastapi-0.104.1-py3-none-any.whl (92 kB)
Downloading pydantic-2.5.0-py3-none-any.whl (407 kB)
Downloading uvicorn-0.24.0-py3-none-any.whl (59 kB)
Downloading httpx-0.25.2-py3-none-any.whl (74 kB)
Downloading requests-2.31.0-py3-none-any.whl (62 kB)
Downloading beautifulsoup4-4.12.2-py3-none-any.whl (142 kB)
Downloading pydantic_settings-2.1.0-py3-none-any.whl (11 kB)
Downloading tavily_python-0.3.0-py3-none-any.whl (5.4 kB)
Downloading PyYAML-6.0.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (757 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 757.7/757.7 kB 43.7 MB/s  0:00:00
Downloading pypdf2-3.0.1-py3-none-any.whl (232 kB)
Downloading pdfplumber-0.10.3-py3-none-any.whl (48 kB)
Downloading python_docx-1.1.0-py3-none-any.whl (239 kB)
Downloading pytesseract-0.3.10-py3-none-any.whl (14 kB)
Downloading Pillow-10.1.0-cp311-cp311-manylinux_2_28_x86_64.whl (3.6 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.6/3.6 MB 100.2 MB/s  0:00:00
Downloading python_dotenv-1.0.0-py3-none-any.whl (19 kB)
Downloading weaviate_client-3.25.3-py3-none-any.whl (120 kB)
Downloading aiofiles-23.2.1-py3-none-any.whl (15 kB)
Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)
Downloading opentelemetry_api-1.21.0-py3-none-any.whl (57 kB)
Downloading opentelemetry_sdk-1.21.0-py3-none-any.whl (105 kB)
Downloading opentelemetry_exporter_otlp-1.21.0-py3-none-any.whl (7.0 kB)
Downloading opentelemetry_instrumentation_fastapi-0.42b0-py3-none-any.whl (11 kB)
Downloading opentelemetry_instrumentation_httpx-0.42b0-py3-none-any.whl (12 kB)
Downloading pytest-7.4.3-py3-none-any.whl (325 kB)
Downloading pytest_asyncio-0.21.1-py3-none-any.whl (13 kB)
Downloading pytest_cov-4.1.0-py3-none-any.whl (21 kB)
Downloading black-23.11.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.7 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.7/1.7 MB 117.4 MB/s  0:00:00
Downloading ruff-0.1.6-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (6.3 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.3/6.3 MB 164.3 MB/s  0:00:00
Downloading mypy-1.7.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (12.4 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 12.4/12.4 MB 208.9 MB/s  0:00:00
Downloading bandit-1.7.5-py3-none-any.whl (123 kB)
Downloading safety-3.2.8-py3-none-any.whl (174 kB)
Downloading opentelemetry_exporter_otlp_proto_grpc-1.21.0-py3-none-any.whl (18 kB)
Downloading opentelemetry_exporter_otlp_proto_common-1.21.0-py3-none-any.whl (17 kB)
Downloading opentelemetry_exporter_otlp_proto_http-1.21.0-py3-none-any.whl (16 kB)
Downloading opentelemetry_instrumentation-0.42b0-py3-none-any.whl (25 kB)
Downloading opentelemetry_instrumentation_asgi-0.42b0-py3-none-any.whl (13 kB)
Downloading opentelemetry_proto-1.21.0-py3-none-any.whl (50 kB)
Downloading opentelemetry_semantic_conventions-0.42b0-py3-none-any.whl (36 kB)
Downloading opentelemetry_util_http-0.42b0-py3-none-any.whl (6.9 kB)
Downloading pdfminer.six-20221105-py3-none-any.whl (5.6 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 5.6/5.6 MB 181.0 MB/s  0:00:00
Downloading pydantic_core-2.14.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.1 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.1/2.1 MB 144.2 MB/s  0:00:00
Downloading tiktoken-0.5.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.0 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.0/2.0 MB 120.1 MB/s  0:00:00
Downloading anyio-3.7.1-py3-none-any.whl (80 kB)
Downloading asgiref-3.9.1-py3-none-any.whl (23 kB)
Downloading authlib-1.6.3-py2.py3-none-any.whl (240 kB)
Downloading backoff-2.2.1-py3-none-any.whl (15 kB)
Downloading charset_normalizer-3.4.3-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (150 kB)
Downloading filelock-3.12.4-py3-none-any.whl (11 kB)
Downloading googleapis_common_protos-1.70.0-py3-none-any.whl (294 kB)
Downloading grpcio-1.74.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (6.2 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.2/6.2 MB 212.6 MB/s  0:00:00
Downloading httpcore-1.0.9-py3-none-any.whl (78 kB)
Downloading idna-3.10-py3-none-any.whl (70 kB)
Downloading importlib_metadata-6.11.0-py3-none-any.whl (23 kB)
Downloading pluggy-1.6.0-py3-none-any.whl (20 kB)
Downloading protobuf-4.25.8-cp37-abi3-manylinux2014_x86_64.whl (294 kB)
Downloading psutil-6.0.0-cp36-abi3-manylinux_2_12_x86_64.manylinux2010_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (290 kB)
Downloading starlette-0.27.0-py3-none-any.whl (66 kB)
Downloading urllib3-2.5.0-py3-none-any.whl (129 kB)
Downloading validators-0.35.0-py3-none-any.whl (44 kB)
Downloading wrapt-1.17.3-cp311-cp311-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (82 kB)
Downloading annotated_types-0.7.0-py3-none-any.whl (13 kB)
Downloading certifi-2025.8.3-py3-none-any.whl (161 kB)
Downloading click-8.2.1-py3-none-any.whl (102 kB)
Downloading coverage-7.10.6-cp311-cp311-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (249 kB)
Downloading cryptography-45.0.7-cp311-abi3-manylinux_2_34_x86_64.whl (4.5 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.5/4.5 MB 193.7 MB/s  0:00:00
Downloading cffi-2.0.0-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (215 kB)
Downloading Deprecated-1.2.18-py2.py3-none-any.whl (10.0 kB)
Downloading dparse-0.6.4-py3-none-any.whl (11 kB)
Downloading gitpython-3.1.45-py3-none-any.whl (208 kB)
Downloading gitdb-4.0.12-py3-none-any.whl (62 kB)
Downloading smmap-5.0.2-py3-none-any.whl (24 kB)
Downloading h11-0.16.0-py3-none-any.whl (37 kB)
Downloading httptools-0.6.4-cp311-cp311-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (459 kB)
Downloading jinja2-3.1.6-py3-none-any.whl (134 kB)
Downloading lxml-6.0.1-cp311-cp311-manylinux_2_26_x86_64.manylinux_2_28_x86_64.whl (5.2 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 5.2/5.2 MB 204.0 MB/s  0:00:00
Downloading MarkupSafe-3.0.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (23 kB)
Downloading marshmallow-4.0.1-py3-none-any.whl (48 kB)
Downloading mypy_extensions-1.1.0-py3-none-any.whl (5.0 kB)
Downloading packaging-25.0-py3-none-any.whl (66 kB)
Downloading pathspec-0.12.1-py3-none-any.whl (31 kB)
Downloading platformdirs-4.4.0-py3-none-any.whl (18 kB)
Downloading pypdfium2-4.30.0-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.8 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.8/2.8 MB 218.5 MB/s  0:00:00
Downloading regex-2025.9.1-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (798 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 799.0/799.0 kB 132.0 MB/s  0:00:00
Downloading ruamel.yaml-0.18.15-py3-none-any.whl (119 kB)
Downloading ruamel.yaml.clib-0.2.12-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (739 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 739.1/739.1 kB 93.3 MB/s  0:00:00
Downloading safety_schemas-0.0.8-py3-none-any.whl (28 kB)
Downloading setuptools-80.9.0-py3-none-any.whl (1.2 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 166.0 MB/s  0:00:00
Downloading six-1.17.0-py2.py3-none-any.whl (11 kB)
Downloading sniffio-1.3.1-py3-none-any.whl (10 kB)
Downloading soupsieve-2.8-py3-none-any.whl (36 kB)
Downloading stevedore-5.5.0-py3-none-any.whl (49 kB)
Downloading typing_extensions-4.15.0-py3-none-any.whl (44 kB)
Downloading uvloop-0.21.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (4.0 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.0/4.0 MB 170.1 MB/s  0:00:00
Downloading watchfiles-1.1.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (453 kB)
Downloading websockets-15.0.1-cp311-cp311-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (182 kB)
Downloading zipp-3.23.0-py3-none-any.whl (10 kB)
Downloading iniconfig-2.1.0-py3-none-any.whl (6.0 kB)
Downloading pycparser-2.23-py3-none-any.whl (118 kB)
Downloading rich-14.1.0-py3-none-any.whl (243 kB)
Downloading pygments-2.19.2-py3-none-any.whl (1.2 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 156.9 MB/s  0:00:00
Downloading markdown_it_py-4.0.0-py3-none-any.whl (87 kB)
Downloading mdurl-0.1.2-py3-none-any.whl (10.0 kB)
Downloading typer-0.17.4-py3-none-any.whl (46 kB)
Downloading shellingham-1.5.4-py2.py3-none-any.whl (9.8 kB)
Installing collected packages: zipp, wrapt, websockets, validators, uvloop, urllib3, typing-extensions, stevedore, soupsieve, sniffio, smmap, six, shellingham, setuptools, ruff, ruamel.yaml.clib, regex, pyyaml, python-dotenv, pypdfium2, PyPDF2, pygments, pycparser, psutil, protobuf, pluggy, platformdirs, Pillow, pathspec, packaging, opentelemetry-util-http, opentelemetry-semantic-conventions, mypy-extensions, mdurl, marshmallow, MarkupSafe, lxml, iniconfig, idna, httptools, h11, grpcio, filelock, coverage, click, charset-normalizer, certifi, backoff, asgiref, annotated-types, aiofiles, uvicorn, ruamel.yaml, requests, python-docx, python-dateutil, pytest, pytesseract, pydantic-core, opentelemetry-proto, mypy, markdown-it-py, jinja2, importlib-metadata, httpcore, googleapis-common-protos, gitdb, dparse, deprecated, cffi, black, beautifulsoup4, anyio, watchfiles, tiktoken, starlette, rich, pytest-cov, pytest-asyncio, pydantic, opentelemetry-exporter-otlp-proto-common, opentelemetry-api, httpx, GitPython, cryptography, typer, tavily-python, safety-schemas, pydantic-settings, pdfminer.six, opentelemetry-sdk, opentelemetry-instrumentation, fastapi, bandit, authlib, weaviate-client, safety, pdfplumber, opentelemetry-instrumentation-httpx, opentelemetry-instrumentation-asgi, opentelemetry-exporter-otlp-proto-http, opentelemetry-exporter-otlp-proto-grpc, opentelemetry-instrumentation-fastapi, opentelemetry-exporter-otlp
  Attempting uninstall: setuptools
    Found existing installation: setuptools 65.5.0
    Uninstalling setuptools-65.5.0:
      Successfully uninstalled setuptools-65.5.0

Successfully installed GitPython-3.1.45 MarkupSafe-3.0.2 Pillow-10.1.0 PyPDF2-3.0.1 aiofiles-23.2.1 annotated-types-0.7.0 anyio-3.7.1 asgiref-3.9.1 authlib-1.6.3 backoff-2.2.1 bandit-1.7.5 beautifulsoup4-4.12.2 black-23.11.0 certifi-2025.8.3 cffi-2.0.0 charset-normalizer-3.4.3 click-8.2.1 coverage-7.10.6 cryptography-45.0.7 deprecated-1.2.18 dparse-0.6.4 fastapi-0.104.1 filelock-3.12.4 gitdb-4.0.12 googleapis-common-protos-1.70.0 grpcio-1.74.0 h11-0.16.0 httpcore-1.0.9 httptools-0.6.4 httpx-0.25.2 idna-3.10 importlib-metadata-6.11.0 iniconfig-2.1.0 jinja2-3.1.6 lxml-6.0.1 markdown-it-py-4.0.0 marshmallow-4.0.1 mdurl-0.1.2 mypy-1.7.1 mypy-extensions-1.1.0 opentelemetry-api-1.21.0 opentelemetry-exporter-otlp-1.21.0 opentelemetry-exporter-otlp-proto-common-1.21.0 opentelemetry-exporter-otlp-proto-grpc-1.21.0 opentelemetry-exporter-otlp-proto-http-1.21.0 opentelemetry-instrumentation-0.42b0 opentelemetry-instrumentation-asgi-0.42b0 opentelemetry-instrumentation-fastapi-0.42b0 opentelemetry-instrumentation-httpx-0.42b0 opentelemetry-proto-1.21.0 opentelemetry-sdk-1.21.0 opentelemetry-semantic-conventions-0.42b0 opentelemetry-util-http-0.42b0 packaging-25.0 pathspec-0.12.1 pdfminer.six-20221105 pdfplumber-0.10.3 platformdirs-4.4.0 pluggy-1.6.0 protobuf-4.25.8 psutil-6.0.0 pycparser-2.23 pydantic-2.5.0 pydantic-core-2.14.1 pydantic-settings-2.1.0 pygments-2.19.2 pypdfium2-4.30.0 pytesseract-0.3.10 pytest-7.4.3 pytest-asyncio-0.21.1 pytest-cov-4.1.0 python-dateutil-2.8.2 python-docx-1.1.0 python-dotenv-1.0.0 pyyaml-6.0.1 regex-2025.9.1 requests-2.31.0 rich-14.1.0 ruamel.yaml-0.18.15 ruamel.yaml.clib-0.2.12 ruff-0.1.6 safety-3.2.8 safety-schemas-0.0.8 setuptools-80.9.0 shellingham-1.5.4 six-1.17.0 smmap-5.0.2 sniffio-1.3.1 soupsieve-2.8 starlette-0.27.0 stevedore-5.5.0 tavily-python-0.3.0 tiktoken-0.5.1 typer-0.17.4 typing-extensions-4.15.0 urllib3-2.5.0 uvicorn-0.24.0 uvloop-0.21.0 validators-0.35.0 watchfiles-1.1.0 weaviate-client-3.25.3 websockets-15.0.1 wrapt-1.17.3 zipp-3.23.0
Requirement already satisfied: pytest-cov in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (4.1.0)
Collecting pytest-html
  Downloading pytest_html-4.1.1-py3-none-any.whl.metadata (3.9 kB)
Collecting pytest-json-report
  Downloading pytest_json_report-1.5.0-py3-none-any.whl.metadata (15 kB)
Requirement already satisfied: pytest>=4.6 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from pytest-cov) (7.4.3)
Requirement already satisfied: coverage>=5.2.1 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from coverage[toml]>=5.2.1->pytest-cov) (7.10.6)
Requirement already satisfied: jinja2>=3.0.0 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from pytest-html) (3.1.6)
Collecting pytest-metadata>=2.0.0 (from pytest-html)
  Downloading pytest_metadata-3.1.1-py3-none-any.whl.metadata (8.6 kB)
Requirement already satisfied: MarkupSafe>=2.0 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from jinja2>=3.0.0->pytest-html) (3.0.2)
Requirement already satisfied: iniconfig in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from pytest>=4.6->pytest-cov) (2.1.0)
Requirement already satisfied: packaging in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from pytest>=4.6->pytest-cov) (25.0)
Requirement already satisfied: pluggy<2.0,>=0.12 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from pytest>=4.6->pytest-cov) (1.6.0)
Downloading pytest_html-4.1.1-py3-none-any.whl (23 kB)
Downloading pytest_json_report-1.5.0-py3-none-any.whl (13 kB)
Downloading pytest_metadata-3.1.1-py3-none-any.whl (11 kB)
Installing collected packages: pytest-metadata, pytest-json-report, pytest-html

Successfully installed pytest-html-4.1.1 pytest-json-report-1.5.0 pytest-metadata-3.1.1
13s
Run pip install ruff black mypy
Requirement already satisfied: ruff in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (0.1.6)
Requirement already satisfied: black in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (23.11.0)
Requirement already satisfied: mypy in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (1.7.1)
Requirement already satisfied: click>=8.0.0 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from black) (8.2.1)
Requirement already satisfied: mypy-extensions>=0.4.3 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from black) (1.1.0)
Requirement already satisfied: packaging>=22.0 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from black) (25.0)
Requirement already satisfied: pathspec>=0.9.0 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from black) (0.12.1)
Requirement already satisfied: platformdirs>=2 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from black) (4.4.0)
Requirement already satisfied: typing-extensions>=4.1.0 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from mypy) (4.15.0)
🔍 Running Ruff linter...
🎨 Checking code formatting...
All done! ✨ 🍰 ✨
45 files would be left unchanged.
🔬 Running MyPy type checks...
ports/guard_port.py:102: error: Incompatible default for argument "pii_types" (default has type "None", argument has type "list[str | None]")  [assignment]
ports/guard_port.py:102: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
ports/guard_port.py:102: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
adapters/saptiva_model/saptiva_client.py:5: error: Library stubs not installed for "requests"  [import-untyped]
adapters/saptiva_model/saptiva_client.py:5: note: Hint: "python3 -m pip install types-requests"
adapters/saptiva_model/saptiva_client.py:5: note: (or run "mypy --install-types" to install all missing stub packages)
adapters/saptiva_model/saptiva_client.py:5: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports
adapters/saptiva_model/saptiva_client.py:11: error: Function is missing a return type annotation  [no-untyped-def]
adapters/saptiva_model/saptiva_client.py:11: note: Use "-> None" if function does not return a value
adapters/saptiva_model/saptiva_client.py:27: error: Missing type parameters for generic type "dict"  [type-arg]
adapters/saptiva_model/saptiva_client.py:35: error: Missing return statement  [return]
adapters/saptiva_model/saptiva_client.py:89: error: Returning Any from function declared to return "bool"  [no-any-return]
ports/storage_port.py:22: error: Incompatible default for argument "metadata" (default has type "None", argument has type "dict[str, str | None]")  [assignment]
ports/storage_port.py:22: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
ports/storage_port.py:22: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
ports/storage_port.py:37: error: Incompatible default for argument "metadata" (default has type "None", argument has type "dict[str, str | None]")  [assignment]
ports/storage_port.py:37: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
ports/storage_port.py:37: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
ports/logging_port.py:51: error: Incompatible default for argument "context" (default has type "None", argument has type "dict[str, Any]")  [assignment]
ports/logging_port.py:51: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
ports/logging_port.py:51: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
ports/logging_port.py:65: error: Incompatible default for argument "metadata" (default has type "None", argument has type "dict[str, Any]")  [assignment]
ports/logging_port.py:65: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
ports/logging_port.py:65: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
adapters/telemetry/events.py:63: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
adapters/telemetry/events.py:76: error: Function is missing a return type annotation  [no-untyped-def]
adapters/telemetry/events.py:76: note: Use "-> None" if function does not return a value
adapters/telemetry/events.py:78: error: Statement is unreachable  [unreachable]
adapters/telemetry/events.py:80: error: Statement is unreachable  [unreachable]
adapters/telemetry/events.py:97: error: Function is missing a return type annotation  [no-untyped-def]
adapters/telemetry/events.py:97: note: Use "-> None" if function does not return a value
adapters/telemetry/events.py:103: error: Function is missing a return type annotation  [no-untyped-def]
adapters/telemetry/events.py:103: note: Use "-> None" if function does not return a value
adapters/telemetry/events.py:111: error: Function is missing a return type annotation  [no-untyped-def]
adapters/telemetry/events.py:118: error: Incompatible default for argument "data" (default has type "None", argument has type "dict[str, Any | None]")  [assignment]
adapters/telemetry/events.py:118: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
adapters/telemetry/events.py:118: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
adapters/telemetry/events.py:150: error: Function is missing a return type annotation  [no-untyped-def]
adapters/telemetry/events.py:158: error: Function is missing a return type annotation  [no-untyped-def]
adapters/telemetry/events.py:166: error: Function is missing a return type annotation  [no-untyped-def]
adapters/telemetry/events.py:180: error: Function is missing a return type annotation  [no-untyped-def]
adapters/telemetry/events.py:188: error: Function is missing a return type annotation  [no-untyped-def]
adapters/telemetry/events.py:197: error: Function is missing a return type annotation  [no-untyped-def]
adapters/telemetry/events.py:205: error: Function is missing a return type annotation  [no-untyped-def]
adapters/telemetry/events.py:218: error: Function is missing a return type annotation  [no-untyped-def]
adapters/telemetry/events.py:226: error: Function is missing a return type annotation  [no-untyped-def]
adapters/telemetry/events.py:252: error: Function is missing a return type annotation  [no-untyped-def]
adapters/telemetry/events.py:306: error: Function is missing a return type annotation  [no-untyped-def]
adapters/telemetry/events.py:319: error: Incompatible default for argument "data" (default has type "None", argument has type "dict[str, Any | None]")  [assignment]
adapters/telemetry/events.py:319: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
adapters/telemetry/events.py:319: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
adapters/telemetry/events.py:326: error: Function is missing a type annotation  [no-untyped-def]
adapters/telemetry/events.py:327: error: Incompatible types in assignment (expression has type "float", variable has type "None")  [assignment]
adapters/telemetry/events.py:330: error: Function is missing a type annotation  [no-untyped-def]
adapters/telemetry/events.py:331: error: Unsupported operand types for - ("float" and "None")  [operator]
adapters/guard/basic_guard.py:14: error: Function is missing a return type annotation  [no-untyped-def]
adapters/guard/basic_guard.py:14: note: Use "-> None" if function does not return a value
adapters/guard/basic_guard.py:162: error: Incompatible default for argument "pii_types" (default has type "None", argument has type "list[str | None]")  [assignment]
adapters/guard/basic_guard.py:162: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
adapters/guard/basic_guard.py:162: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
domain/services/planner_svc.py:10: error: Function is missing a return type annotation  [no-untyped-def]
domain/services/planner_svc.py:10: note: Use "-> None" if function does not return a value
domain/services/evaluation_svc.py:20: error: Function is missing a return type annotation  [no-untyped-def]
domain/services/evaluation_svc.py:20: note: Use "-> None" if function does not return a value
adapters/web_surfer/basic_browser.py:8: error: Library stubs not installed for "requests"  [import-untyped]
adapters/web_surfer/basic_browser.py:26: error: Function is missing a return type annotation  [no-untyped-def]
adapters/web_surfer/basic_browser.py:26: note: Use "-> None" if function does not return a value
adapters/web_surfer/basic_browser.py:191: error: Returning Any from function declared to return "bool"  [no-any-return]
adapters/web_surfer/basic_browser.py:196: error: Returning Any from function declared to return "bool"  [no-any-return]
adapters/weaviate_vector/weaviate_adapter.py:13: error: Function is missing a return type annotation  [no-untyped-def]
adapters/weaviate_vector/weaviate_adapter.py:13: note: Use "-> None" if function does not return a value
adapters/weaviate_vector/weaviate_adapter.py:31: error: Missing type parameters for generic type "dict"  [type-arg]
adapters/weaviate_vector/weaviate_adapter.py:185: error: Returning Any from function declared to return "bool"  [no-any-return]
adapters/tavily_search/tavily_client.py:13: error: Function is missing a return type annotation  [no-untyped-def]
adapters/tavily_search/tavily_client.py:13: note: Use "-> None" if function does not return a value
adapters/tavily_search/tavily_client.py:61: error: Returning Any from function declared to return "str | None"  [no-any-return]
adapters/tavily_search/tavily_client.py:91: error: Missing type parameters for generic type "dict"  [type-arg]
domain/services/writer_svc.py:11: error: Function is missing a return type annotation  [no-untyped-def]
domain/services/writer_svc.py:11: note: Use "-> None" if function does not return a value
domain/services/writer_svc.py:34: error: Returning Any from function declared to return "str"  [no-any-return]
domain/services/research_svc.py:13: error: Function is missing a return type annotation  [no-untyped-def]
domain/services/research_svc.py:13: note: Use "-> None" if function does not return a value
domain/services/research_svc.py:113: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
domain/services/research_svc.py:126: error: Function is missing a return type annotation  [no-untyped-def]
adapters/extractor/pdf_extractor.py:42: error: Function is missing a return type annotation  [no-untyped-def]
adapters/extractor/pdf_extractor.py:42: note: Use "-> None" if function does not return a value
adapters/extractor/pdf_extractor.py:86: error: Incompatible types in assignment (expression has type "PageObject", variable has type "Page")  [assignment]
adapters/extractor/pdf_extractor.py:218: error: "DocumentInformation" has no attribute "_data"  [attr-defined]
adapters/security/rate_limiter.py:63: error: Missing type parameters for generic type "dict"  [type-arg]
adapters/security/rate_limiter.py:68: error: Missing type parameters for generic type "dict"  [type-arg]
adapters/security/rate_limiter.py:82: error: Missing type parameters for generic type "deque"  [type-arg]
adapters/security/rate_limiter.py:84: error: Missing type parameters for generic type "dict"  [type-arg]
adapters/security/rate_limiter.py:129: error: Unsupported operand types for >= ("int" and "None")  [operator]
adapters/security/rate_limiter.py:129: note: Right operand is of type "int | None"
adapters/security/rate_limiter.py:153: error: Function is missing a return type annotation  [no-untyped-def]
adapters/security/rate_limiter.py:179: error: Missing type parameters for generic type "dict"  [type-arg]
adapters/security/rate_limiter.py:304: error: Missing type parameters for generic type "set"  [type-arg]
adapters/security/rate_limiter.py:307: error: Function is missing a return type annotation  [no-untyped-def]
adapters/security/rate_limiter.py:307: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
adapters/security/rate_limiter.py:319: error: Argument 2 to "_log_suspicious_activity" of "ProductionSecurityMiddleware" has incompatible type "str | None"; expected "str"  [arg-type]
adapters/security/rate_limiter.py:335: error: Item "None" of "dict[Any, Any] | None" has no attribute "get"  [union-attr]
adapters/security/rate_limiter.py:395: error: Function is missing a return type annotation  [no-untyped-def]
adapters/security/rate_limiter.py:406: error: Function is missing a return type annotation  [no-untyped-def]
adapters/security/rate_limiter.py:410: error: Missing type parameters for generic type "dict"  [type-arg]
adapters/security/rate_limiter.py:410: error: Incompatible default for argument "headers" (default has type "None", argument has type "dict[Any, Any]")  [assignment]
adapters/security/rate_limiter.py:410: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
adapters/security/rate_limiter.py:410: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
tools/benchmarks/quick_load_test.py:13: error: Function is missing a return type annotation  [no-untyped-def]
tools/benchmarks/quick_load_test.py:22: error: Missing type parameters for generic type "dict"  [type-arg]
tools/benchmarks/load_test_suite.py:271: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
tools/benchmarks/load_test_suite.py:303: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
tools/benchmarks/load_test_suite.py:333: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
tools/benchmarks/load_test_suite.py:351: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
tools/benchmarks/load_test_suite.py:395: error: Need type annotation for "error_distribution" (hint: "error_distribution: Dict[<type>, <type>] = ...")  [var-annotated]
tools/benchmarks/load_test_suite.py:443: error: Incompatible return value type (got "list[tuple[float, float]]", expected "list[tuple[float, int]]")  [return-value]
tools/benchmarks/load_test_suite.py:450: error: Function is missing a return type annotation  [no-untyped-def]
tools/benchmarks/load_test_suite.py:493: error: Function is missing a return type annotation  [no-untyped-def]
tools/benchmarks/load_test_suite.py:534: error: Function is missing a return type annotation  [no-untyped-def]
tools/benchmarks/load_test_suite.py:547: error: Function is missing a return type annotation  [no-untyped-def]
tools/benchmarks/load_test_suite.py:547: note: Use "-> None" if function does not return a value
tools/benchmarks/benchmark_performance.py:16: error: Need type annotation for "results" (hint: "results: Dict[<type>, <type>] = ...")  [var-annotated]
tools/benchmarks/benchmark_performance.py:18: error: Missing type parameters for generic type "dict"  [type-arg]
tools/benchmarks/benchmark_performance.py:47: error: Missing type parameters for generic type "dict"  [type-arg]
tools/benchmarks/benchmark_performance.py:67: error: Missing type parameters for generic type "dict"  [type-arg]
tools/benchmarks/benchmark_performance.py:97: error: Missing type parameters for generic type "dict"  [type-arg]
tools/benchmarks/benchmark_performance.py:146: error: Missing type parameters for generic type "dict"  [type-arg]
tools/benchmarks/benchmark_performance.py:156: error: Unsupported target for indexed assignment ("object")  [index]
tools/benchmarks/benchmark_performance.py:161: error: Unsupported target for indexed assignment ("object")  [index]
tools/benchmarks/benchmark_performance.py:166: error: Unsupported target for indexed assignment ("object")  [index]
tools/benchmarks/benchmark_performance.py:171: error: Unsupported target for indexed assignment ("object")  [index]
tools/benchmarks/benchmark_performance.py:183: error: Missing type parameters for generic type "dict"  [type-arg]
tools/benchmarks/benchmark_performance.py:244: error: Function is missing a return type annotation  [no-untyped-def]
tools/benchmarks/benchmark_performance.py:244: note: Use "-> None" if function does not return a value
adapters/telemetry/tracing.py:27: error: Function is missing a return type annotation  [no-untyped-def]
adapters/telemetry/tracing.py:35: error: Function is missing a return type annotation  [no-untyped-def]
adapters/telemetry/tracing.py:35: note: Use "-> None" if function does not return a value
adapters/telemetry/tracing.py:110: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
adapters/telemetry/tracing.py:138: error: Function is missing a return type annotation  [no-untyped-def]
adapters/telemetry/tracing.py:138: error: Incompatible default for argument "attributes" (default has type "None", argument has type "dict[str, Any | None]")  [assignment]
adapters/telemetry/tracing.py:138: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
adapters/telemetry/tracing.py:138: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
adapters/telemetry/tracing.py:145: error: Argument 2 to "set_attribute" of "Span" has incompatible type "Any | None"; expected "str | bool | int | float | Sequence[str] | Sequence[bool] | Sequence[int] | Sequence[float]"  [arg-type]
adapters/telemetry/tracing.py:155: error: Function is missing a return type annotation  [no-untyped-def]
adapters/telemetry/tracing.py:155: error: Incompatible default for argument "attributes" (default has type "None", argument has type "dict[str, Any | None]")  [assignment]
adapters/telemetry/tracing.py:155: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
adapters/telemetry/tracing.py:155: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
adapters/telemetry/tracing.py:158: error: Function is missing a type annotation  [no-untyped-def]
adapters/telemetry/tracing.py:160: error: Function is missing a type annotation  [no-untyped-def]
adapters/telemetry/tracing.py:166: error: Argument 2 to "set_attribute" of "Span" has incompatible type "Any | None"; expected "str | bool | int | float | Sequence[str] | Sequence[bool] | Sequence[int] | Sequence[float]"  [arg-type]
adapters/telemetry/tracing.py:186: error: Function is missing a return type annotation  [no-untyped-def]
adapters/telemetry/tracing.py:186: error: Incompatible default for argument "attributes" (default has type "None", argument has type "dict[str, Any | None]")  [assignment]
adapters/telemetry/tracing.py:186: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
adapters/telemetry/tracing.py:186: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
adapters/telemetry/tracing.py:189: error: Function is missing a type annotation  [no-untyped-def]
adapters/telemetry/tracing.py:191: error: Function is missing a type annotation  [no-untyped-def]
adapters/telemetry/tracing.py:197: error: Argument 2 to "set_attribute" of "Span" has incompatible type "Any | None"; expected "str | bool | int | float | Sequence[str] | Sequence[bool] | Sequence[int] | Sequence[float]"  [arg-type]
tests/unit/test_telemetry.py:27: error: Function is missing a return type annotation  [no-untyped-def]
tests/unit/test_telemetry.py:30: error: Argument 1 to "set_tracer_provider" has incompatible type "None"; expected "TracerProvider"  [arg-type]
tests/unit/test_telemetry.py:37: error: Statement is unreachable  [unreachable]
tests/unit/test_telemetry.py:46: error: Function is missing a type annotation  [no-untyped-def]
tests/unit/test_telemetry.py:55: error: Item "None" of "Any | None" has no attribute "_active_span_processor"  [union-attr]
tests/unit/test_telemetry.py:58: error: Function is missing a return type annotation  [no-untyped-def]
tests/unit/test_telemetry.py:58: note: Use "-> None" if function does not return a value
tests/unit/test_telemetry.py:64: error: Item "None" of "Any | None" has no attribute "_active_span_processor"  [union-attr]
tests/unit/test_telemetry.py:67: error: Function is missing a type annotation  [no-untyped-def]
tests/unit/test_telemetry.py:74: error: Function is missing a return type annotation  [no-untyped-def]
tests/unit/test_telemetry.py:74: note: Use "-> None" if function does not return a value
tests/unit/test_telemetry.py:84: error: Function is missing a return type annotation  [no-untyped-def]
tests/unit/test_telemetry.py:84: note: Use "-> None" if function does not return a value
tests/unit/test_telemetry.py:93: error: Function is missing a return type annotation  [no-untyped-def]
tests/unit/test_telemetry.py:97: error: Function is missing a type annotation  [no-untyped-def]
tests/unit/test_telemetry.py:105: error: Function is missing a return type annotation  [no-untyped-def]
tests/unit/test_telemetry.py:112: error: Function is missing a type annotation  [no-untyped-def]
tests/unit/test_telemetry.py:127: error: Function is missing a return type annotation  [no-untyped-def]
tests/unit/test_telemetry.py:127: note: Use "-> None" if function does not return a value
tests/unit/test_telemetry.py:131: error: Function is missing a return type annotation  [no-untyped-def]
tests/unit/test_telemetry.py:131: note: Use "-> None" if function does not return a value
tests/unit/test_telemetry.py:144: error: Function is missing a type annotation  [no-untyped-def]
tests/unit/test_telemetry.py:165: error: Function is missing a return type annotation  [no-untyped-def]
tests/unit/test_telemetry.py:165: note: Use "-> None" if function does not return a value
tests/unit/test_telemetry.py:168: error: Cannot assign to a method  [method-assign]
tests/unit/test_telemetry.py:178: error: Function is missing a return type annotation  [no-untyped-def]
tests/unit/test_telemetry.py:178: note: Use "-> None" if function does not return a value
tests/unit/test_telemetry.py:190: error: Function is missing a return type annotation  [no-untyped-def]
tests/unit/test_telemetry.py:190: note: Use "-> None" if function does not return a value
domain/services/iterative_research_svc.py:33: error: Incompatible types in assignment (expression has type "None", variable has type "list[InformationGap]")  [assignment]
domain/services/iterative_research_svc.py:34: error: Incompatible types in assignment (expression has type "None", variable has type "list[RefinementQuery]")  [assignment]
domain/services/iterative_research_svc.py:35: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
domain/services/iterative_research_svc.py:37: error: Function is missing a return type annotation  [no-untyped-def]
domain/services/iterative_research_svc.py:37: note: Use "-> None" if function does not return a value
domain/services/iterative_research_svc.py:39: error: Statement is unreachable  [unreachable]
domain/services/iterative_research_svc.py:73: error: Untyped decorator makes function "execute_deep_research" untyped  [misc]
domain/services/iterative_research_svc.py:79: error: Need type annotation for "iterations" (hint: "iterations: List[<type>] = ...")  [var-annotated]
domain/services/iterative_research_svc.py:189: error: Item "None" of "CompletionScore | None" has no attribute "completion_level"  [union-attr]
domain/services/iterative_research_svc.py:190: error: Item "None" of "CompletionScore | None" has no attribute "overall_score"  [union-attr]
tests/unit/test_iterative_research_orchestrator.py:18: error: Function is missing a return type annotation  [no-untyped-def]
tests/unit/test_iterative_research_orchestrator.py:18: note: Use "-> None" if function does not return a value
tests/unit/test_iterative_research_orchestrator.py:28: error: Statement is unreachable  [unreachable]
tests/unit/test_iterative_research_orchestrator.py:30: error: Function is missing a return type annotation  [no-untyped-def]
tests/unit/test_iterative_research_orchestrator.py:30: note: Use "-> None" if function does not return a value
tests/unit/test_iterative_research_orchestrator.py:59: error: Function is missing a return type annotation  [no-untyped-def]
tests/unit/test_iterative_research_orchestrator.py:59: note: Use "-> None" if function does not return a value
tests/unit/test_iterative_research_orchestrator.py:86: error: Function is missing a return type annotation  [no-untyped-def]
tests/unit/test_iterative_research_orchestrator.py:86: note: Use "-> None" if function does not return a value
tests/unit/test_iterative_research_orchestrator.py:98: error: Function is missing a return type annotation  [no-untyped-def]
tests/unit/test_iterative_research_orchestrator.py:98: note: Use "-> None" if function does not return a value
tests/unit/test_iterative_research_orchestrator.py:108: error: Function is missing a type annotation  [no-untyped-def]
tests/unit/test_iterative_research_orchestrator.py:117: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:133: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:144: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:145: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:167: error: Function is missing a type annotation  [no-untyped-def]
tests/unit/test_iterative_research_orchestrator.py:176: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:225: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:226: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:229: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:230: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:238: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:240: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:261: error: Function is missing a type annotation  [no-untyped-def]
tests/unit/test_iterative_research_orchestrator.py:269: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:285: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:297: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:298: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:299: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:300: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:311: error: Function is missing a return type annotation  [no-untyped-def]
tests/unit/test_iterative_research_orchestrator.py:311: note: Use "-> None" if function does not return a value
tests/unit/test_iterative_research_orchestrator.py:320: error: Function is missing a return type annotation  [no-untyped-def]
tests/unit/test_iterative_research_orchestrator.py:320: note: Use "-> None" if function does not return a value
tests/unit/test_iterative_research_orchestrator.py:344: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:359: error: Function is missing a return type annotation  [no-untyped-def]
tests/unit/test_iterative_research_orchestrator.py:359: note: Use "-> None" if function does not return a value
tests/unit/test_iterative_research_orchestrator.py:385: error: Argument "refinement_queries" to "ResearchIteration" has incompatible type "None"; expected "list[RefinementQuery]"  [arg-type]
tests/unit/test_iterative_research_orchestrator.py:400: error: Argument "refinement_queries" to "ResearchIteration" has incompatible type "None"; expected "list[RefinementQuery]"  [arg-type]
tests/unit/test_iterative_research_orchestrator.py:448: error: Function is missing a type annotation  [no-untyped-def]
tests/unit/test_iterative_research_orchestrator.py:456: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:460: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:462: error: Cannot assign to a method  [method-assign]
tests/unit/test_iterative_research_orchestrator.py:468: error: Cannot assign to a method  [method-assign]
apps/api/main.py:75: error: Function is missing a return type annotation  [no-untyped-def]
apps/api/main.py:75: note: Use "-> None" if function does not return a value
apps/api/main.py:88: error: Unexpected keyword argument "example" for "Field"; did you mean "examples"?  [call-arg]
apps/api/main.py:154: error: Missing type parameters for generic type "dict"  [type-arg]
apps/api/main.py:155: error: Missing type parameters for generic type "dict"  [type-arg]
/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/pydantic/fields.py:673: note: "Field" defined here
apps/api/main.py:93: error: Unexpected keyword argument "example" for "Field"; did you mean "examples"?  [call-arg]
/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/pydantic/fields.py:673: note: "Field" defined here
apps/api/main.py:98: error: Unexpected keyword argument "example" for "Field"; did you mean "examples"?  [call-arg]
/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/pydantic/fields.py:673: note: "Field" defined here
apps/api/main.py:104: error: Unexpected keyword argument "example" for "Field"; did you mean "examples"?  [call-arg]
/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/pydantic/fields.py:673: note: "Field" defined here
apps/api/main.py:109: error: Unexpected keyword argument "example" for "Field"; did you mean "examples"?  [call-arg]
/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/pydantic/fields.py:673: note: "Field" defined here
apps/api/main.py:114: error: Unexpected keyword argument "example" for "Field"; did you mean "examples"?  [call-arg]
/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/pydantic/fields.py:673: note: "Field" defined here
apps/api/main.py:115: error: Unexpected keyword argument "example" for "Field"; did you mean "examples"?  [call-arg]
/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/pydantic/fields.py:673: note: "Field" defined here
apps/api/main.py:116: error: Unexpected keyword argument "example" for "Field"; did you mean "examples"?  [call-arg]
/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/pydantic/fields.py:673: note: "Field" defined here
apps/api/main.py:122: error: Unexpected keyword argument "example" for "Field"; did you mean "examples"?  [call-arg]
/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/pydantic/fields.py:673: note: "Field" defined here
apps/api/main.py:127: error: Unexpected keyword argument "example" for "Field"; did you mean "examples"?  [call-arg]
/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/pydantic/fields.py:673: note: "Field" defined here
apps/api/main.py:128: error: Unexpected keyword argument "example" for "Field"; did you mean "examples"?  [call-arg]
/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/pydantic/fields.py:673: note: "Field" defined here
apps/api/main.py:138: error: Unexpected keyword argument "example" for "Field"; did you mean "examples"?  [call-arg]
/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/pydantic/fields.py:673: note: "Field" defined here
apps/api/main.py:140: error: Unexpected keyword argument "example" for "Field"; did you mean "examples"?  [call-arg]
/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/pydantic/fields.py:673: note: "Field" defined here
apps/api/main.py:151: error: Unexpected keyword argument "example" for "Field"; did you mean "examples"?  [call-arg]
/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/pydantic/fields.py:673: note: "Field" defined here
apps/api/main.py:155: error: Unexpected keyword argument "example" for "Field"; did you mean "examples"?  [call-arg]
/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/pydantic/fields.py:673: note: "Field" defined here
apps/api/main.py:185: error: Function is missing a return type annotation  [no-untyped-def]
apps/api/main.py:197: error: Function is missing a return type annotation  [no-untyped-def]
apps/api/main.py:231: error: Dict entry 3 has incompatible type "str": "int"; expected "str": "str | None"  [dict-item]
apps/api/main.py:241: error: Function is missing a return type annotation  [no-untyped-def]
apps/api/main.py:251: error: Function is missing a return type annotation  [no-untyped-def]
apps/api/main.py:261: error: Argument "max_iterations" to "IterativeResearchOrchestrator" has incompatible type "int | None"; expected "int"  [arg-type]
apps/api/main.py:262: error: Argument "min_completion_score" to "IterativeResearchOrchestrator" has incompatible type "float | None"; expected "float"  [arg-type]
apps/api/main.py:263: error: Argument "budget" to "IterativeResearchOrchestrator" has incompatible type "int | None"; expected "int"  [arg-type]
apps/api/main.py:273: error: Dict entry 2 has incompatible type "str": "dict[str, Any]"; expected "str": "str | None"  [dict-item]
apps/api/main.py:308: error: Function is missing a return type annotation  [no-untyped-def]
apps/api/main.py:316: error: Unsupported operand types for - ("float" and "object")  [operator]
apps/api/main.py:373: error: Function is missing a return type annotation  [no-untyped-def]
apps/api/main.py:387: error: Dict entry 1 has incompatible type "str": "float"; expected "str": "str | None"  [dict-item]
apps/api/main.py:419: error: Function is missing a return type annotation  [no-untyped-def]
apps/api/main.py:429: error: Argument "status" to "TaskStatus" has incompatible type "str | None"; expected "str"  [arg-type]
apps/api/main.py:457: error: Function is missing a return type annotation  [no-untyped-def]
apps/api/main.py:473: error: Missing named argument "sources_bib" for "Report"  [call-arg]
apps/api/main.py:473: error: Missing named argument "metrics_json" for "Report"  [call-arg]
apps/api/main.py:473: error: Argument "status" to "Report" has incompatible type "str | None"; expected "str"  [arg-type]
apps/api/main.py:505: error: Function is missing a return type annotation  [no-untyped-def]
apps/api/main.py:560: error: Function is missing a return type annotation  [no-untyped-def]
apps/api/main.py:574: error: Dict entry 1 has incompatible type "str": "float"; expected "str": "str | None"  [dict-item]
apps/api/main.py:632: error: Function is missing a return type annotation  [no-untyped-def]
apps/api/main.py:646: error: Item "str" of "str | None" has no attribute "final_report"  [union-attr]
apps/api/main.py:646: error: Item "None" of "str | None" has no attribute "final_report"  [union-attr]
apps/api/main.py:647: error: Item "str" of "str | None" has no attribute "total_evidence_count"  [union-attr]
apps/api/main.py:647: error: Item "None" of "str | None" has no attribute "total_evidence_count"  [union-attr]
apps/api/main.py:648: error: Argument "research_summary" to "DeepResearchReport" has incompatible type "str | None"; expected "dict[Any, Any] | None"  [arg-type]
apps/api/main.py:650: error: Item "str" of "str | None" has no attribute "completion_level"  [union-attr]
apps/api/main.py:650: error: Item "None" of "str | None" has no attribute "completion_level"  [union-attr]
apps/api/main.py:651: error: Item "str" of "str | None" has no attribute "research_quality_score"  [union-attr]
apps/api/main.py:651: error: Item "None" of "str | None" has no attribute "research_quality_score"  [union-attr]
apps/api/main.py:652: error: Item "str" of "str | None" has no attribute "total_evidence_count"  [union-attr]
apps/api/main.py:652: error: Item "None" of "str | None" has no attribute "total_evidence_count"  [union-attr]
apps/api/main.py:653: error: Item "str" of "str | None" has no attribute "execution_time_seconds"  [union-attr]
apps/api/main.py:653: error: Item "None" of "str | None" has no attribute "execution_time_seconds"  [union-attr]
apps/api/main.py:657: error: Missing named argument "sources_bib" for "DeepResearchReport"  [call-arg]
apps/api/main.py:657: error: Missing named argument "research_summary" for "DeepResearchReport"  [call-arg]
apps/api/main.py:657: error: Missing named argument "quality_metrics" for "DeepResearchReport"  [call-arg]
apps/api/main.py:659: error: Missing named argument "report_md" for "DeepResearchReport"  [call-arg]
apps/api/main.py:659: error: Missing named argument "sources_bib" for "DeepResearchReport"  [call-arg]
apps/api/main.py:659: error: Missing named argument "research_summary" for "DeepResearchReport"  [call-arg]
apps/api/main.py:659: error: Missing named argument "quality_metrics" for "DeepResearchReport"  [call-arg]
apps/api/main.py:659: error: Argument "status" to "DeepResearchReport" has incompatible type "str | None"; expected "str"  [arg-type]
tests/conftest.py:28: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:43: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:60: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:72: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:86: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:115: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:130: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:137: error: Function is missing a type annotation  [no-untyped-def]
tests/conftest.py:145: error: Function is missing a type annotation  [no-untyped-def]
tests/conftest.py:153: error: Function is missing a type annotation  [no-untyped-def]
tests/conftest.py:161: error: Function is missing a type annotation  [no-untyped-def]
tests/conftest.py:170: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:182: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:194: error: Function is missing a type annotation  [no-untyped-def]
Found 255 errors in 24 files (checked 45 source files)
2s
Run pip install bandit safety
Requirement already satisfied: bandit in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (1.7.5)
Requirement already satisfied: safety in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (3.2.8)
Requirement already satisfied: GitPython>=1.0.1 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from bandit) (3.1.45)
Requirement already satisfied: PyYAML>=5.3.1 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from bandit) (6.0.1)
Requirement already satisfied: stevedore>=1.20.0 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from bandit) (5.5.0)
Requirement already satisfied: rich in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from bandit) (14.1.0)
Requirement already satisfied: setuptools>=65.5.1 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from safety) (80.9.0)
Requirement already satisfied: Click>=8.0.2 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from safety) (8.2.1)
Requirement already satisfied: urllib3>=1.26.5 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from safety) (2.5.0)
Requirement already satisfied: requests in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from safety) (2.31.0)
Requirement already satisfied: packaging>=21.0 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from safety) (25.0)
Requirement already satisfied: dparse>=0.6.4b0 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from safety) (0.6.4)
Requirement already satisfied: ruamel.yaml>=0.17.21 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from safety) (0.18.15)
Requirement already satisfied: jinja2>=3.1.0 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from safety) (3.1.6)
Requirement already satisfied: marshmallow>=3.15.0 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from safety) (4.0.1)
Requirement already satisfied: Authlib>=1.2.0 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from safety) (1.6.3)
Requirement already satisfied: typer in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from safety) (0.17.4)
Requirement already satisfied: pydantic>=1.10.12 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from safety) (2.5.0)
Requirement already satisfied: safety-schemas>=0.0.4 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from safety) (0.0.8)
Requirement already satisfied: typing-extensions>=4.7.1 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from safety) (4.15.0)
Requirement already satisfied: filelock~=3.12.2 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from safety) (3.12.4)
Requirement already satisfied: psutil~=6.0.0 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from safety) (6.0.0)
Requirement already satisfied: cryptography in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from Authlib>=1.2.0->safety) (45.0.7)
Requirement already satisfied: gitdb<5,>=4.0.1 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from GitPython>=1.0.1->bandit) (4.0.12)
Requirement already satisfied: smmap<6,>=3.0.1 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from gitdb<5,>=4.0.1->GitPython>=1.0.1->bandit) (5.0.2)
Requirement already satisfied: MarkupSafe>=2.0 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from jinja2>=3.1.0->safety) (3.0.2)
Requirement already satisfied: annotated-types>=0.4.0 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from pydantic>=1.10.12->safety) (0.7.0)
Requirement already satisfied: pydantic-core==2.14.1 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from pydantic>=1.10.12->safety) (2.14.1)
Requirement already satisfied: ruamel.yaml.clib>=0.2.7 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from ruamel.yaml>=0.17.21->safety) (0.2.12)
Requirement already satisfied: cffi>=1.14 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from cryptography->Authlib>=1.2.0->safety) (2.0.0)
Requirement already satisfied: pycparser in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from cffi>=1.14->cryptography->Authlib>=1.2.0->safety) (2.23)
Requirement already satisfied: charset-normalizer<4,>=2 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from requests->safety) (3.4.3)
Requirement already satisfied: idna<4,>=2.5 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from requests->safety) (3.10)
Requirement already satisfied: certifi>=2017.4.17 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from requests->safety) (2025.8.3)
Requirement already satisfied: markdown-it-py>=2.2.0 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from rich->bandit) (4.0.0)
Requirement already satisfied: pygments<3.0.0,>=2.13.0 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from rich->bandit) (2.19.2)
Requirement already satisfied: mdurl~=0.1 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from markdown-it-py>=2.2.0->rich->bandit) (0.1.2)
Requirement already satisfied: shellingham>=1.3.0 in /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages (from typer->safety) (1.5.4)
🛡️ Running Bandit security scan...
Traceback (most recent call last):
  File "/opt/hostedtooche/Python/3.11.13/x64/bin/bandit", line 3, in <module>
    from bandit.cli.main import main
  File "/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/bandit/__init__.py", line 5, in <module>
    import pbr.version
ModuleNotFoundError: No module named 'pbr'
🔒 Checking for known vulnerabilities...
Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.11.13/x64/bin/safety", line 3, in <module>
    from safety.cli import cli
  File "/opt/hostedtoolcache/Python/3.11.13/x/lib/python3.11/site-packages/safety/cli.py", line 681, in <module>
    typer.rich_utils.STYLE_HELPTEXT = ""
    ^^^^^^^^^^^^^^^^
AttributeError: module 'typer' has no attribute 'rich_utils'
4s
Run echo "🧪 Running comprehensive test suite..."
🧪 Running comprehensive test suite...
============================= test session starts ==============================
platform linux -- Python 3.11.13, pytest-7.4.3, pluggy-1.6.0 -- /opt/hostedtoolcache/Python/3.11.13/x64/bin/python
cachedir: .pytest_cache
metad {'Python': '3.11.13', 'Platform': 'Linux-6.11.0-1018-azure-x86_64-with-glibc2.39', 'Packages': {'pytest': '7.4.3', 'pluggy': '1.6.0'}, 'Plugins': {'json-report': '1.5.0', 'metadata': '3.1.1', 'cov': '4.1.0', 'asyncio': '0.21.1', 'html': '4.1.1', 'anyio': '3.7.1'}, 'CI': 'true', 'JAVA_HOME': '/usr/lib/jvm/temurin-17-jdk-amd64'}
rootdir: /home/runner/work/alethia_deepresearch/alethia_deepresearch
configfile: pyproject.toml
testpaths: tests
plugins: json-report-1.5.0, metadata-3.1.1, cov-4.1.0, asyncio-0.21.1, html-4.1.1, anyio-3.7.1
asyncio: mode=Mode.AUTO
collecting ... collected 23 items

tests/unit/test_iterative_research_orchestrator.py::TestResearchIteration::test_init PASSED [  4%]
tests/unit/test_iterative_research_orchestrator.py::TestResearchIteration::test_init_with_optional_fields PASSED [  8%]
tests/unit/test_iterative_research_orchestrator.py::TestDeepResearchResult::test_init PASSED [ 13%]
tests/unit/test_iterative_research_orchestrator.py::TestIterativeResearchOrchestrator::test_init_default PASSED [ 17%]
tests/unit/test_iterative_research_orchestrator.py::TestIterativeResearchOrchestrator::test_init_custom_params PASSED [ 21%]
tests/unit/test_iterative_research_orchestrator.py::TestIterativeResearchOrchestrator::test_execute_deep_research_single_iteration_success PASSED [ 26%]
tests/unit/test_iterative_research_orchestrator.py::TestIterativeResearchOrchestrator::test_execute_deep_research_multi_iteration PASSED [ 30%]
tests/unit/test_iterative_research_orchestrator.py::TestIterativeResearchOrchestrator::test_execute_deep_research_max_iterations_reached PASSED [ 34%]
tests/unit/test_iterative_research_orchestrator.py::TestIterativeResearchOrchestrator::test_execute_refinement_queries_parallel_empty_list PASSED [ 39%]
tests/unit/test_iterative_research_orchestrator.py::TestIterativeResearchOrchestrator::test_execute_refinement_queries_parallel_with_queries PASSED [ 43%]
tests/unit/test_iterative_research_orchestrator.py::TestIterativeResearchOrchestrator::test_get_research_summary PASSED [ 47%]
tests/unit/test_iterative_research_orchestrator.py::TestIterativeResearchOrchestratorIntegration::test_full_workflow_with_event_logging PASSED [ 52%]
tests/unit/test_telemetry.py::TestTelemetryManager::test_setup_tracing_full PASSED [ 56%]
tests/unit/test_telemetry.py::TestTelemetryManager::test_setup_tracing_no_exporters PASSED [ 60%]
tests/unit/test_telemetry.py::TestTelemetryManager::test_get_tracer_uninitialized PASSED [ 65%]
tests/unit/test_telemetry.py::TestTelemetryManager::test_get_tracer_initialized PASSED [ 69%]
tests/unit/test_telemetry.py::test_trace_async_operation_decorator PASSED [ 73%]
tests/unit/test_telemetry.py::test_trace_sync_operation_decorator PASSED [ 78%]
tests/unit/test_telemetry.py::test_trace_async_operation_exception PASSED [ 82%]
tests/unit/test_telemetry.py::TestEventLogger::test_log_event PASSED     [ 86%]
tests/unit/test_telemetry.py::TestEventLogger::test_log_research_started PASSED [ 91%]
tests/unit/test_telemetry.py::TestEventLogger::test_get_events_for_task PASSED [ 95%]
tests/unit/test_telemetry.py::TestEventLogger::test_export_events_ndjson PASSED [100%]

--------------------------------- JSON report ----------------------------------
report saved to: test-results.json

---------- coverage: platform linux, python 3.11.13-final-0 ----------
Name                                           Stmts   Miss  Cover   Missing
----------------------------------------------------------------------------
adapters/extractor/pdf_extractor.py              170    170     0%   1-288
adapters/guard/basic_guard.py                    106    106     0%   1-238
adapters/saptiva_model/saptiva_client.py          65     44    32%   22-23, 29-33, 37-76, 80-91, 95, 99-106, 110-133
adapters/tavily_search/tavily_client.py           63     44    30%   16, 23-30, 36-43, 50-51, 57-64, 70-75, 81-89, 95-122
adapters/telemetry/events.py                     143     40    72%   78, 80, 155-156, 168, 182, 190, 199, 207, 220, 236-238, 254, 273-294, 303, 313, 320-324, 327-328, 331-347
adapters/telemetry/tracing.py                    146     38    74%   37-40, 45, 74-77, 82, 92-93, 107-108, 112-119, 149-152, 196-197, 207-210, 219-220, 225-228, 233-234
adapters/weaviate_vector/weaviate_adapter.py     104     80    23%   22-28, 35-64, 68-120, 124-159, 163-175, 180, 184, 186-187, 192-211, 215-244
adapters/web_surfer/basic_browser.py             118    118     0%   1-198
domain/models/evaluation.py                       24      0   100%
domain/models/evidence.py                         15      0   100%
domain/models/plan.py                              9      0   100%
domain/services/evaluation_svc.py                 79     60    24%   29-38, 44-48, 54-63, 67-69, 103-105, 138-140, 169-180, 184-204, 215-237, 241-263
domain/services/iterative_research_svc.py        127      9    93%   169, 205-218
domain/services/planner_svc.py                    30     19    37%   19-29, 35, 45-59
domain/services/research_svc.py                   96     73    24%   18-20, 29, 36-64, 71-111, 115-124, 128-144, 150, 154, 158-159
domain/services/writer_svc.py                     39     24    38%   25-34, 41-63, 66-68, 102
ports/browser_port.py                              4      0   100%
ports/doc_extract_port.py                          5      0   100%
ports/guard_port.py                               15      4    73%   25-28
ports/logging_port.py                             11      0   100%
ports/model_client_port.py                         3      0   100%
ports/search_port.py                               4      0   100%
ports/storage_port.py                             12      5    58%   11-15
ports/vector_store_port.py                         3      0   100%
----------------------------------------------------------------------------
TOTAL                                           1391    834    40%
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml

FAIL Required test coverage of 50% not reached. Total coverage: 40.04%
- Generated html report: file:///home/runner/work/alethia_deepresearch/alethia_deepresearch/test-results.html -
============================== 23 passed in 3.72s ==============================
Error: Process completed with exit code 1.
0s
0s
1s

